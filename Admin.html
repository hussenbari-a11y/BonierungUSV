<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Bonierung – Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Firebase SDKs (compat für einfache HTML Nutzung) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <style>
    body { font-family: Arial, sans-serif; margin: 18px; }
    h2 { margin: 0 0 12px; }
    .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; }
    .card { border: 1px solid #ddd; border-radius: 10px; padding: 12px; margin: 12px 0; }
    input, select, button { padding: 8px; border: 1px solid #ccc; border-radius: 8px; }
    button { cursor: pointer; }
    .small { font-size: 12px; color: #666; }
    .ok { color: #0a7a2f; font-weight: 700; }
    .err { color: #b00020; font-weight: 700; }
    table { border-collapse: collapse; width: 100%; margin-top: 8px; }
    th, td { border-bottom: 1px solid #eee; padding: 8px; text-align: left; }
    th { background: #fafafa; }
    .pill { display:inline-block; padding: 2px 8px; border:1px solid #ddd; border-radius: 999px; font-size: 12px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
  </style>
</head>

<body>
  <h2>Bonierung – Admin</h2>

  <div class="card">
    <div class="row">
      <label class="pill">Event-ID</label>
      <input id="eventId" value="live-saufwertung-usv" />
      <button id="btnLoad">Event laden</button>
      <span>Status: <span id="status" class="err">offline</span></span>

      <span style="margin-left:auto" class="small">
        Live-Link:
        <span class="mono" id="publicLink">—</span>
      </span>
    </div>

    <div style="height:10px"></div>

    <div class="row">
      <label class="pill">Login</label>
      <input id="email" type="email" placeholder="Email" />
      <input id="password" type="password" placeholder="Passwort" />
      <button id="btnLogin">Login</button>
      <button id="btnLogout">Logout</button>
      <span>User: <span id="user">—</span></span>
    </div>

    <div class="small" style="margin-top:8px">
      Ablauf: Team anlegen → Getränk anlegen → Team + Getränk + Menge buchen.
    </div>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">1) Teams (Personen)</h3>
    <div class="row">
      <input id="teamName" placeholder="Teamname (z.B. Mannschaft A)" />
      <input id="teamPeople" type="number" min="1" placeholder="Personen" />
      <button id="btnAddTeam">Team speichern</button>
    </div>
    <div class="small">Tipp: Personen kannst du später einfach überschreiben (gleiches Team erneut speichern).</div>

    <table>
      <thead>
        <tr>
          <th>Team</th>
          <th>Personen</th>
          <th>Umsatz €</th>
          <th>€ / Kopf</th>
        </tr>
      </thead>
      <tbody id="teamsTable">
        <tr><td colspan="4" class="small">Noch keine Teams.</td></tr>
      </tbody>
    </table>
  </div>

  <div class="card">
    <h3 style="margin:0 0 8px">2) Getränke-Katalog</h3>
    <div class="row">
      <input id="drinkName" placeholder="Getränk (z.B. Bacardi Cola)" />
      <input id="drinkPrice" type="number" step="0.01" min="0" placeholder="Preis €" />
      <label class="row" style="gap:6px">
        <input id="drinkAlcoholic" type="checkbox" />
        <span>alkoholisch</span>
      </label>
      <button id="btnAddDrink">Getränk speichern</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Getränk</th>
          <th>Preis €</th>
          <th
